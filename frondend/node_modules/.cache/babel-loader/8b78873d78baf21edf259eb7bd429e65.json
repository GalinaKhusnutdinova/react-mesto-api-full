{"ast":null,"code":"const REACT_APP_API_URL = process.env;\nconst baseUrl = `${window.location.protocol}${process.env.REACT_APP_API_URL || '//localhost:3001'}`;\n\nclass Api {\n  constructor(settings) {\n    this._settings = settings;\n    console.log(settings);\n  } //qq\n\n\n  getProfile() {\n    return fetch(this._settings.baseUrl + \"/users/me\", {\n      headers: this._settings.headers,\n      credentials: 'include'\n    }).then(this._checkResponse);\n  } //qq\n\n\n  getInitialCards() {\n    return fetch(this._settings.baseUrl + \"/cards\", {\n      headers: this._settings.headers\n    }).then(this._checkResponse);\n  } //qq\n\n\n  editProfile(data) {\n    return fetch(this._settings.baseUrl + \"/users/me\", {\n      method: \"PATCH\",\n      headers: this._settings.headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      })\n    }).then(this._checkResponse);\n  }\n\n  addNewCard(item) {\n    return fetch(this._settings.baseUrl + \"/cards\", {\n      method: \"POST\",\n      headers: this._settings.headers,\n      body: JSON.stringify({\n        name: item.name,\n        link: item.link\n      })\n    }).then(this._checkResponse);\n  } //qq\n\n\n  deleteCard(id) {\n    return fetch(this._settings.baseUrl + \"/cards/\" + id, {\n      method: \"DELETE\",\n      headers: this._settings.headers\n    }).then(this._checkResponse);\n  } //qq\n\n\n  deleteLike(id) {\n    return fetch(this._settings.baseUrl + \"/cards/\" + id + \"/likes\", {\n      method: \"DELETE\",\n      headers: this._settings.headers\n    }).then(this._checkResponse);\n  } //qq\n\n\n  addLike(id) {\n    return fetch(this._settings.baseUrl + \"/cards/\" + id + \"/likes\", {\n      method: \"PUT\",\n      headers: this._settings.headers\n    }).then(this._checkResponse);\n  } //qq\n\n\n  editAvatarProfile(data) {\n    return fetch(this._settings.baseUrl + \"/users/me/avatar\", {\n      method: \"PATCH\",\n      headers: this._settings.headers,\n      body: JSON.stringify({\n        avatar: data.avatar\n      })\n    }).then(this._checkResponse);\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n} // const baseUrl = `${'http://api.khusnutdinova.student.nomoredomains.xyz' || 'http://localhost:3001'}` \n\n\nexport const api = new Api({\n  baseUrl: baseUrl,\n  headers: {\n    authorization: 'Bearer ' + localStorage.getItem('jwt'),\n    \"Content-Type\": \"application/json\"\n  }\n});","map":{"version":3,"names":["REACT_APP_API_URL","process","env","baseUrl","window","location","protocol","Api","constructor","settings","_settings","console","log","getProfile","fetch","headers","credentials","then","_checkResponse","getInitialCards","editProfile","data","method","body","JSON","stringify","name","about","addNewCard","item","link","deleteCard","id","deleteLike","addLike","editAvatarProfile","avatar","res","ok","json","Promise","reject","status","api","authorization","localStorage","getItem"],"sources":["/Users/galina/dev/react-mesto-api-full/frondend/src/utils/api.js"],"sourcesContent":["const REACT_APP_API_URL  = process.env;\nconst baseUrl = `${window.location.protocol}${process.env.REACT_APP_API_URL || '//localhost:3001'}`\nclass Api {\n  constructor(settings) {\n    this._settings = settings;\n    console.log(settings)\n  }\n  //qq\n  getProfile() {\n    return fetch(this._settings.baseUrl + \"/users/me\", {\n      headers: this._settings.headers,\n      credentials: 'include',  \n    }).then(this._checkResponse);\n  }\n  //qq\n  getInitialCards() {\n    return fetch(this._settings.baseUrl + \"/cards\", {\n      headers: this._settings.headers,\n    }).then(this._checkResponse);\n  }\n  //qq\n  editProfile(data) {\n    return fetch(this._settings.baseUrl + \"/users/me\", {\n      method: \"PATCH\",\n      headers: this._settings.headers, \n      body: JSON.stringify({\n        name: data.name,\n        about: data.about,\n      }),\n    }).then(this._checkResponse);\n  }\n\n  addNewCard(item) {\n    return fetch(this._settings.baseUrl + \"/cards\", {\n      method: \"POST\",\n      headers: this._settings.headers,\n      body: JSON.stringify({\n        name: item.name,\n        link: item.link,\n      }),\n    }).then(this._checkResponse);\n  }\n  //qq\n  deleteCard(id) {\n    return fetch(this._settings.baseUrl + \"/cards/\" + id, {\n      method: \"DELETE\",\n      headers: this._settings.headers,\n    }).then(this._checkResponse);\n  }\n  //qq\n  deleteLike(id) {\n    return fetch(this._settings.baseUrl + \"/cards/\" + id + \"/likes\", {\n      method: \"DELETE\",\n      headers: this._settings.headers,\n    }).then(this._checkResponse);\n  }\n  //qq\n  addLike(id) {\n    return fetch(this._settings.baseUrl + \"/cards/\" + id + \"/likes\", {\n      method: \"PUT\",\n      headers: this._settings.headers,\n    }).then(this._checkResponse);\n  }\n  //qq\n  editAvatarProfile(data) {\n    return fetch(this._settings.baseUrl + \"/users/me/avatar\", {\n      method: \"PATCH\",\n      headers: this._settings.headers, \n      body: JSON.stringify({\n        avatar: data.avatar,\n      }),\n    }).then(this._checkResponse);\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n}\n// const baseUrl = `${'http://api.khusnutdinova.student.nomoredomains.xyz' || 'http://localhost:3001'}` \n\n\n\nexport const api = new Api({\n  baseUrl: baseUrl,\n  headers: {\n    authorization: 'Bearer ' + localStorage.getItem('jwt'),\n    \"Content-Type\": \"application/json\",\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}