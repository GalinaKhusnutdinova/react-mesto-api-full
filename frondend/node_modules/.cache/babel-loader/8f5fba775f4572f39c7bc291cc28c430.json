{"ast":null,"code":"import _classCallCheck from\"/Users/galina/dev/react-mesto-api-full/frondend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/galina/dev/react-mesto-api-full/frondend/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(settings){_classCallCheck(this,Api);this._settings=settings;}//qq\n_createClass(Api,[{key:\"getProfile\",value:function getProfile(){return fetch(this._settings.baseUrl+\"/users/me\",{headers:this._settings.headers,credentials:'include'}).then(this._checkResponse);}//qq\n},{key:\"getInitialCards\",value:function getInitialCards(){return fetch(this._settings.baseUrl+\"/cards\",{headers:this._settings.headers}).then(this._checkResponse);}//qq\n},{key:\"editProfile\",value:function editProfile(data){return fetch(this._settings.baseUrl+\"/users/me\",{method:\"PATCH\",headers:this._settings.headers,body:JSON.stringify({name:data.name,about:data.about})}).then(this._checkResponse);}},{key:\"addNewCard\",value:function addNewCard(item){return fetch(this._settings.baseUrl+\"/cards\",{method:\"POST\",headers:this._settings.headers,body:JSON.stringify({name:item.name,link:item.link})}).then(this._checkResponse);}//qq\n},{key:\"deleteCard\",value:function deleteCard(id){return fetch(this._settings.baseUrl+\"/cards/\"+id,{method:\"DELETE\",headers:this._settings.headers}).then(this._checkResponse);}//qq\n},{key:\"deleteLike\",value:function deleteLike(id){return fetch(this._settings.baseUrl+\"/cards/\"+id+\"/likes\",{method:\"DELETE\",headers:this._settings.headers}).then(this._checkResponse);}//qq\n},{key:\"addLike\",value:function addLike(id){return fetch(this._settings.baseUrl+\"/cards/\"+id+\"/likes\",{method:\"PUT\",headers:this._settings.headers}).then(this._checkResponse);}//qq\n},{key:\"editAvatarProfile\",value:function editAvatarProfile(data){return fetch(this._settings.baseUrl+\"/users/me/avatar\",{method:\"PATCH\",headers:this._settings.headers,body:JSON.stringify({avatar:data.avatar})}).then(this._checkResponse);}},{key:\"_checkResponse\",value:function _checkResponse(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}}]);return Api;}();var baseUrl=\"\".concat('http://api.khusnutdinova.student.nomoredomains.xyz'||'http://localhost:3001');export var api=new Api({baseUrl:baseUrl,headers:{authorization:'Bearer '+localStorage.getItem('jwt'),\"Content-Type\":\"application/json\"}});","map":{"version":3,"names":["Api","settings","_settings","fetch","baseUrl","headers","credentials","then","_checkResponse","data","method","body","JSON","stringify","name","about","item","link","id","avatar","res","ok","json","Promise","reject","status","api","authorization","localStorage","getItem"],"sources":["/Users/galina/dev/react-mesto-api-full/frondend/src/utils/api.js"],"sourcesContent":["class Api {\n  constructor(settings) {\n    this._settings = settings;\n  }\n  //qq\n  getProfile() {\n    return fetch(this._settings.baseUrl + \"/users/me\", {\n      headers: this._settings.headers,\n      credentials: 'include',  \n    }).then(this._checkResponse);\n  }\n  //qq\n  getInitialCards() {\n    return fetch(this._settings.baseUrl + \"/cards\", {\n      headers: this._settings.headers,\n    }).then(this._checkResponse);\n  }\n  //qq\n  editProfile(data) {\n    return fetch(this._settings.baseUrl + \"/users/me\", {\n      method: \"PATCH\",\n      headers: this._settings.headers, \n      body: JSON.stringify({\n        name: data.name,\n        about: data.about,\n      }),\n    }).then(this._checkResponse);\n  }\n\n  addNewCard(item) {\n    return fetch(this._settings.baseUrl + \"/cards\", {\n      method: \"POST\",\n      headers: this._settings.headers,\n      body: JSON.stringify({\n        name: item.name,\n        link: item.link,\n      }),\n    }).then(this._checkResponse);\n  }\n  //qq\n  deleteCard(id) {\n    return fetch(this._settings.baseUrl + \"/cards/\" + id, {\n      method: \"DELETE\",\n      headers: this._settings.headers,\n    }).then(this._checkResponse);\n  }\n  //qq\n  deleteLike(id) {\n    return fetch(this._settings.baseUrl + \"/cards/\" + id + \"/likes\", {\n      method: \"DELETE\",\n      headers: this._settings.headers,\n    }).then(this._checkResponse);\n  }\n  //qq\n  addLike(id) {\n    return fetch(this._settings.baseUrl + \"/cards/\" + id + \"/likes\", {\n      method: \"PUT\",\n      headers: this._settings.headers,\n    }).then(this._checkResponse);\n  }\n  //qq\n  editAvatarProfile(data) {\n    return fetch(this._settings.baseUrl + \"/users/me/avatar\", {\n      method: \"PATCH\",\n      headers: this._settings.headers, \n      body: JSON.stringify({\n        avatar: data.avatar,\n      }),\n    }).then(this._checkResponse);\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n}\nconst baseUrl = `${'http://api.khusnutdinova.student.nomoredomains.xyz' || 'http://localhost:3001'}` \n\nexport const api = new Api({\n  baseUrl: baseUrl,\n  headers: {\n    authorization: 'Bearer ' + localStorage.getItem('jwt'),\n    \"Content-Type\": \"application/json\",\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}